<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="tip" style="color: rgb(88, 137, 5);">你还能输入<em>25</em>个字!</div>
<textarea name="" cols="50" rows="10" id="textArea"></textarea><br>
<input type="submit" name="button" id="button" value="提交">
<script type="text/javascript">
    document.getElementById("textArea").focus();
    var chackTextarea = function(obj,num,objTip){
            setInterval(function(){
                var newvalue = obj.value.replace(/[^\x00-\xff]/g, "**"); 
                if(newvalue.length>=0){
                    if (newvalue.length > num) {
                        objTip.innerHTML="已超出<em>" +parseInt((newvalue.length - num)/2) +"</em>个字!";
                        objTip.style.color="#F00";
                        document.getElementById("button").disabled="disabled";
                    }else{
                        objTip.innerHTML="你还能输入<em>" +parseInt((num-newvalue.length)/2) +"</em>个字!";
                        objTip.style.color="#588905";
                        document.getElementById("button").disabled="";
                    }
                }else{
                        document.getElementById("button").disabled="disabled";
                }
            },100);
    }
    chackTextarea(document.getElementById("textArea"),280,document.getElementById("tip"));
</script>
</body>
</html>

